<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket para Galeto Solidário</title>
   <style rel="stylesheet" href="style.css"></style>
</head>
<body>
    <h1>Galeto Solidário equipe ELITE</h1>
    
<form action="mailto:empresa@candya.com.br" method="post" enctype="text/plain" onsubmit="gerarTicket()">
    <label for="nome">Nome:</label><br>
    <input type="text" id="nome" name="nome"><br><br>

    <label for="telefone">Telefone:</label><br>
    <input type="text" id="telefone" name="telefone"><br><br>

    <label for="endereco">Endereço:</label><br>
    <input type="text" id="endereco" name="endereco"><br><br>

    <input type="hidden" id="numeroTicket" name="numeroTicket">

    <input type="submit" value="Enviar">
</form>

<script>
        function gerarNumeroTicket() {
            // Gerar um número aleatório entre 1000 e 9999
            return Math.floor(Math.random() * 9000) + 1000;
        }

        function enviarEmail(nome, endereco, telefone, numeroTicket) {
            // Configurar os detalhes do e-mail
            var assunto = "Novo Ticket para Galeto Solidário";
            var corpoEmail = "Nome: " + nome + "<br>Endereço: " + endereco + "<br>Telefone: " + telefone + "<br>Número do Ticket: " + numeroTicket;

            // Enviar o e-mail usando a API de e-mail do navegador (requer permissões)
            Email.send({
                Host: "smtp.gmail.com",
                Username: "seu-email@gmail.com",
                Password: "sua-senha",
                To: "seu-email@gmail.com",
                From: "seu-email@gmail.com",
                Subject: assunto,
                Body: corpoEmail,
            }).then(
                message => alert("E-mail enviado com sucesso!")
            );
        }

        function preencherFormulario() {
            var nome = document.getElementById("nome").value;
            var endereco = document.getElementById("endereco").value;
            var telefone = document.getElementById("telefone").value;
            
            var numeroTicket = gerarNumeroTicket();
            document.getElementById("numeroTicket").value = numeroTicket;

            // Enviar e-mail com os detalhes do usuário e do ticket gerado
            enviarEmail(nome, endereco, telefone, numeroTicket);
        }
    
function gerarTicket() {
    var numeroTicket = Math.floor(Math.random() * 10000); // Gera um número aleatório para o ticket
    document.getElementById("numeroTicket").value = numeroTicket; // Define o número do ticket no campo oculto
}
    <script src="scripts.js"></script>
</script>
</body>
</html>
